<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ITG Sheets Dashboard — Final Draft</title>
  <style>
    body{font-family:system-ui,Segoe UI,Apple SD Gothic Neo,Arial,sans-serif;margin:0;background:#f7f7fb}
    header{background:#2b67f6;color:#fff;padding:16px 20px;font-size:18px;display:flex;justify-content:space-between;align-items:center}
    main{padding:16px 20px;max-width:1200px;margin:0 auto}
    .grid{display:grid;grid-template-columns:1fr 360px;gap:16px;align-items:start}
    .card{background:#fff;border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,.06);padding:14px}
    .toolbar{display:flex;gap:8px;align-items:end;flex-wrap:wrap;margin-bottom:12px}
    label{font-size:12px;color:#555;display:block;margin-bottom:6px}
    input,select,button,textarea{padding:9px 12px;border:1px solid #ddd;border-radius:10px;background:#fff;width:100%;box-sizing:border-box}
    button{cursor:pointer}
    table{width:100%;border-collapse:collapse;background:#fff;border-radius:10px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,.06)}
    th,td{padding:10px;border-bottom:1px solid #eee;font-size:14px}
    th{background:#fafbff;text-align:left}
    tr:hover{background:#fafafa}
    .muted{color:#888}
    .pill{display:inline-block;padding:2px 8px;border-radius:999px;background:#eef3ff;color:#2b67f6;font-size:12px}
    .row{display:flex;gap:10px}
    .error{color:#d33;margin-top:8px;font-size:12px}
    .success{color:#2b67f6;margin-top:8px;font-size:12px}
  </style>
</head>
<body>
  <header>
    <div>ITG Sheets Dashboard</div>
    <div id="who" class="muted"></div>
  </header>
  <main>
    <div class="grid">
      <div class="card">
        <div class="toolbar">
          <div>
            <label>월(YYYY-MM)</label>
            <input id="month" placeholder="2025-09">
          </div>
          <div>
            <label>담당자</label>
            <input id="manager" placeholder="직원명 (예: 박정우)">
          </div>
          <div>
            <label>보기 모드</label>
            <select id="mode">
              <option value="global">전체</option>
              <option value="settlement">정산(본인만)</option>
            </select>
          </div>
          <div style="align-self:flex-end">
            <button id="refresh">검색</button>
          </div>
        </div>
        <table>
          <thead id="thead"></thead>
          <tbody id="tbody"></tbody>
        </table>
      </div>

      <div class="card">
        <h3 style="margin:0 0 10px 0;">신규 프로젝트 등록</h3>
        <div class="row">
          <div style="flex:1">
            <label>사업자</label>
            <select id="f_company"></select>
          </div>
          <div style="flex:1">
            <label>담당자</label>
            <select id="f_owner"></select>
          </div>
        </div>
        <div style="margin-top:10px">
          <label>현장 주소</label>
          <textarea id="f_addr" rows="3" placeholder="예: 서울시 ..."></textarea>
        </div>
        <div style="margin-top:10px">
          <label>비고 (선택)</label>
          <textarea id="f_note" rows="2" placeholder=""></textarea>
        </div>
        <div style="margin-top:12px" class="row">
          <button id="btnCreate" style="flex:1">자동생성 + 등록</button>
        </div>
        <div id="createMsg" class="error" style="display:none"></div>
        <div id="createOk" class="success" style="display:none"></div>
      </div>
    </div>
  </main>

  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
  <script src="/static/app.js"></script>
</body>
</html>
